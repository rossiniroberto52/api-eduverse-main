<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Criar Novo Aluno</title>
    <style>
        body { font-family: sans-serif; margin: 20px; background: #f4f4f4; }
        form { max-width: 500px; margin: 0 auto; padding: 20px; background: #fff; border-radius: 8px; }
        div { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input { width: 95%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
        button { padding: 10px 15px; background: #007bff; color: white; border: none; cursor: pointer; }
        #response { margin-top: 20px; font-family: monospace; }
    </style>
</head>
<body>

<form id="studentForm">
    <h2>Criar Novo Aluno</h2>

    <div>
        <label for="name">Nome:</label>
        <input type="text" id="name" required>
    </div>

    <div>
        <label for="email">Email:</label>
        <input type="email" id="email" required>
    </div>

    <div>
        <label for="age">Idade:</label>
        <input type="number" id="age">
    </div>

    <div>
        <label for="cpf">CPF:</label>
        <input type="text" id="cpf">
    </div>

    <div>
        <label for="institution">Instituição:</label>
        <input type="text" id="institution">
    </div>

    <button type="submit">Salvar Aluno</button>
</form>

<pre id="response"></pre>

<script>
    const form = document.getElementById('studentForm');

    const responseArea = document.getElementById('response');

    form.addEventListener('submit', function(event) {
        event.preventDefault();

        const studentData = {
            name: document.getElementById('name').value,
            email: document.getElementById('email').value,
            age: parseInt(document.getElementById('age').value) || 0,
            cpf: document.getElementById('cpf').value,
            institution: document.getElementById('institution').value,

            password: "senha_padrao_123",
            phone_number: "",
            level: 1,
            xp: 0,
            classes: [],
            salt: "",
            tag: []
        };

        fetch('/api/students/new-student', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(studentData)
        })
            .then(response => response.json())
            .then(data => {
                responseArea.textContent = 'Aluno criado com sucesso:\n\n' + JSON.stringify(data, null, 2);
                form.reset();
            })
            .catch(error => {
                responseArea.textContent = 'Erro ao criar aluno:\n\n' + error;
            });
    });
</script>

</body>
</html>